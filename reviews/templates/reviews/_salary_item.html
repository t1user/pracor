{% load humanize %}
{% load reviews_extras %}
{% load static %}


{% block css %}
<link rel="stylesheet" href="{% static 'css/font-awesome-4.7.0/css/font-awesome.min.css' %}">
{% endblock css %}


<div class="row">
    <div class="twelve columns">
        {% comment %}
        {% include "reviews/_background.html" %}
        {% endcomment %}
        <div class="salary">
            <h4>
            {{ object.position__position }} |
            {{ object.position__location }}
            {% if object.position__department %}
            |
            {{ object.position__department }}
            {% endif %}
            </h4>
        </div>
    </div>
</div>
<div class="row">
    <div class="four columns">
        <h5>Zarobki zasadnicze</h5>    
        <div class="particulars">
            brutto
            {{ object.period|period }}
        </div>
    </div>
    <div class="three columns">
        {% if object.salary_count > 1 %}
        <i>średnio:</i>
        {% endif %}
        <div class="avg-salary">
            {{ object.currency }}
            {{ object.salary_avg|intcomma }}
        </div>
    </div>
    <div class="four columns">
        {% if object.salary_count > 1 %}
        <i>zakres:</i>
        <table class="u-full-width salary-slider">
            <tr>
                <td class="u-pull-right" style="width:{{ object|width:'salary' }}">
                    <i class="fa fa-caret-down fa-2x" aria-hidden="true"></i>
                </td>
            </tr>
            <tr class="u-full-width marker-line">
                <td class="u-pull-left">
                    {{ object.salary_min|intcomma }}
                </td>
                <td class="u-pull-right">
                    {{ object.salary_max|intcomma }}
                </td>
            </tr>
        </table>
        {% endif %}
    </div>
    <div class="one column">
    </div>
</div>

{% if object.bonus_avg %}
<div class="row">
    <div class="four columns">
        <h5>Premia</h5>    
        <div class="particulars">
            brutto
            {{ object.period|period }}
            <br/>
            <i>wypłacana: {{object.bonus_periods|bonus_period|join:', ' }}</i>
        </div>
    </div>
    <div class="three columns">
        {% if object.bonus_count > 1 %}
        <i>średnio:</i>
        {% endif %}
        <div class="avg-salary">
            {{ object.currency }}
            {{ object.bonus_avg|intcomma }}
        </div>
    </div>
    <div class="four columns">
        {% if object.salary_count > 1 %}
        <i>zakres:</i>
        <table class="u-full-width salary-slider">
            <tr>
                <td class="u-pull-right" style="width:{{ object|width:'bonus' }}">
                    <i class="fa fa-caret-down fa-2x" aria-hidden="true"></i>
                </td>
            </tr>
            <tr class="u-full-width marker-line">
                <td class="u-pull-left">
                    {{ object.bonus_min|intcomma }}
                </td>
                <td class="u-pull-right">
                    {{ object.bonus_max|intcomma }}
                </td>
            </tr>
        </table>
        {% endif %}
    </div>
    <div class="one column">
    </div>
</div>
{% endif %}

<div class="row">
    <div class="twelve columns">
        <div class="u-pull-right">
            <i>na podstawie {{ object.salary_count }} wpis{{object.salary_count|pluralize:"u,ów" }}</i>
        </div>
    </div>
</div>

{% comment %}
<div class="row">
    <div class="twelve columns">
        {% if object.bonus_input %}
        <h5>Premia</h5>
        <div class="bonus">
            {{ object.currency }}
            {{ object.bonus_input|intcomma }}
            {{ object.get_bonus_period_display }}
            {{ object.get_bonus_gross_net_display }}
        </div>
        {% endif %}
    </div>
</div>
{% endcomment %}
